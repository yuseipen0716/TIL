## Rails APIモードについて

これまで、viewファイルもRails側で作成する、一般的なRailsアプリケーションを作成したことはあったが、APIモードはあまり利用したことがないので、まとめる。

以前、LINEbotをRailsバックで作成した際にはAPIモードで作成したことがあったが、理解して使っていたか、と言われると微妙なところ。

### なぜAPIモードを使用する?
> 近年ではフロントエンドの重要性が高まり、描画部分を完全にJSに任せるようなケースも存在する。（引用: パーフェクトRuby on Rails ）

Railsガイドにも同様のことが詳しく書いてあった。

> - 昨今では、クライアント側のフレームワークが登場し、Railsで構築したバックエンドサーバをほかのWebアプリケーションとネイティブアプリケーションの間で共有することが増えてきた。
> - 多くの開発者が、Railsで生成したHTMLフォームやリンクをサーバ間のやりとりに使うのではなく、Webアプリケーションを単なるAPIクライアントにとどめて、JSON APIを利用するHTMLとJavaScripotの提供に専念するようになってきた。


HTMLの描画をRails側で行わないというのがあらかじめわかっているのであれば、APIに特化したRails アプリケーションが作成できる。(LINEbotとかも、これにあてはまるね)

スクレイピング等をJob実行する際もAPIモードでよいかもね。

### APIモードを利用するには?
`rails new`を行う際に、apiフラグを立てる。

```
$ rails new my_app_api --api
```

このように、apiフラグを使用してアプリケーションを作成すると、viewテンプレートなどは生成されなくなる。

また、コントローラの基底クラスがActionControler::BaseからActionController::APIに変化して、利用しないクラスを継承しないようになる。




### 参考
- パーフェクトRuby on Rails
- Railsガイド
