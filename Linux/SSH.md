## SSH まとめ

> Secure Shell(セキュアシェル、SSH)は、暗号や認証の技術を利用して、安全にリモートコンピュータと通信するためのプロトコル。

参考: [Wikipedia Secure Shell](https://ja.wikipedia.org/wiki/Secure_Shell)

Telnetのようなもともと使われていた、リモートホストのシェルを利用するための既存のプロトコルでは、ネットワーク上に平文でパスワードを送信してしまうため、パスワードを
盗聴されてしまう危険性が高く、問題であった。

SSHの暗号通信では、公開鍵認証を用いている。また、パスワード認証なども使用できる。これらは、個々の情報セキュリティポリシーに合わせて選択可能。

### パスワード認証方式とは

デフォルトの認証方式。ユーザー名とパスワードでログインする。

ユーザー名とパスワードは接続先OSのユーザーアカウントの情報が使用される。

> 参考: [インフラエンジニアじゃなくても押さえておきたいSSHの基礎知識](https://qiita.com/tag1216/items/5d06bad7468f731f590e)

### 公開鍵認証方式とは

公開鍵認証方式は、公開鍵と秘密鍵の鍵ペアを使用する認証方式。

サーバにログインしたいユーザーは、事前に上記の鍵ペアを作成しておき、公開鍵のほうをサーバに登録しておく。秘密鍵は自分のPC内で大切に大切に保管。

サーバにログインする際には、まず、秘密鍵を用いて署名を作成し、サーバへ送信する。

サーバは受け取った署名をペアとなる公開鍵で検証し、登録済みの公開鍵での認証が成功した場合に限り、ログインを許可するという仕組み。

パスワード認証と異なり、秘密鍵は自分のPC内で保存し、ネットワークに出さない。また、認証に使用される署名は一時的なものであるため。これを盗聴しても意味がない。

秘密鍵を偽装することは非常に困難であるため、パスワード認証方式よりもセキュリティレベルが高い。

せっかく公開鍵認証方式で、セキュリティレベルを上げていても、秘密鍵を盗まれてしまっては本末転倒。

一般的にSSHのサービスは不特定多数に向けて公開する必要はないため、ファイアウォールで接続元を制限するなど、複数のセキュリティ対策を組み合わせることも重要！


> 参考: [SSH公開鍵認証とは](https://pfs.nifcloud.com/navi/words/ssh.htm#:~:text=%E3%80%8C%E5%85%AC%E9%96%8B%E9%8D%B5%E8%AA%8D%E8%A8%BC%E3%80%8D%E3%81%A8%E3%81%AF,%E4%BF%9D%E7%AE%A1%E3%81%97%E3%81%A6%E3%81%8A%E3%81%8D%E3%81%BE%E3%81%99%E3%80%82)

